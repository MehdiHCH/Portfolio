<!DOCTYPE html>

<!--
  portfolYOU Jekyll theme by yousinix
  Free for personal and commercial use under the MIT license
  https://github.com/yousinix/portfolYOU
-->

<html lang="en" class="h-100">

<head>

  
  
  

  

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta property="og:type" content="website">
  <meta property="og:title" content="Automated Futsal Video Analysis for Performance Reporting">
  <meta property="og:description" content="End-to-end AI pipeline for automated detection, tracking, and classification of player actions in futsal matches using YOLOv11, DeepSORT, and advanced comput...">
  <meta property="og:image" content="/assets/img/projects/SportScore.gif">

  <title>Automated Futsal Video Analysis for Performance Reporting</title>
  <meta name="description" content="End-to-end AI pipeline for automated detection, tracking, and classification of player actions in futsal matches using YOLOv11, DeepSORT, and advanced comput...">

  <link rel="shortcut icon" type="image/x-icon" href="/Portfolio/assets/favicon.ico">

  <!-- Theme style -->
  <script src="/Portfolio/assets/js/theme.js"></script>

  <!-- Font Awesome CDN -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css">

  <!-- Bootstrap CSS CDN -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css">

  <!-- Animate CSS CDN -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.css">

  <!-- Custom CSS -->
  <link rel="stylesheet" href="/Portfolio/assets/css/style.css">

</head>


<body class="h-100 d-flex flex-column">

  <main class="flex-shrink-0 container mt-5">
    <nav class="navbar navbar-expand-lg navbar-themed">

  <a class="navbar-brand" href="/Portfolio/"><h5><b>Hicham El Mehdi</b></h5></a>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
    <i class="fas fa-1x fa-bars text-themed"></i>
  </button>

  <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
    <div class="navbar-nav ml-auto"><a class="nav-item nav-link active" href="/Portfolio/projects/">My Projects</a>

      <a class="nav-item nav-link " href="/Portfolio/demos/">Demos</a>

      <a class="nav-item nav-link " href="/Portfolio/demos/futsal-analysis-demos.html">Futsal Analysis - Demos</a>

      <a class="nav-item nav-link " href="/Portfolio/about/">About</a>

      

      <span id="theme-toggler" class="nav-item nav-link" role="button" onclick="toggleTheme()"></span>
    </div>
  </div>

</nav>
    <style>
/* ========== VARIABLES ========== */
:root {
  --primary-blue: #58a6ff;
  --primary-green: #238636;
  --primary-yellow: #d29922;
  --primary-purple: #bc8cff;
  --primary-red: #f85149;
  --bg-dark: #0d1117;
  --bg-card: #161b22;
  --bg-card-hover: #1c2128;
  --text-primary: #e6edf3;
  --text-secondary: #9ba3b4;
  --text-tertiary: #7d8590;
  --border-color: rgba(110, 118, 129, 0.3);
  --gradient-blue: linear-gradient(135deg, #58a6ff, #238636);
  --gradient-purple: linear-gradient(135deg, #bc8cff, #58a6ff);
  --gradient-red: linear-gradient(135deg, #f85149, #da3633);
}

/* ========== LAYOUT ========== */
.project-detail {
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem 1.5rem;
  color: var(--text-primary);
}

/* ========== BACK BUTTON ========== */
.back-nav {
  margin-bottom: 2rem;
}

.back-btn {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1.25rem;
  background: rgba(88, 166, 255, 0.1);
  border: 1px solid rgba(88, 166, 255, 0.3);
  border-radius: 8px;
  color: var(--primary-blue);
  text-decoration: none;
  font-weight: 600;
  transition: all 0.3s ease;
}

.back-btn:hover {
  background: rgba(88, 166, 255, 0.2);
  transform: translateX(-5px);
  border-color: var(--primary-blue);
}

/* ========== HEADER ========== */
.project-header {
  margin-bottom: 3rem;
  text-align: center;
}

.project-title {
  font-size: 2.5rem;
  font-weight: 700;
  background: var(--gradient-blue);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  margin-bottom: 1.5rem;
  line-height: 1.2;
}

.project-meta {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 1.5rem;
  margin-bottom: 2rem;
  font-size: 0.95rem;
}

.meta-item {
  display: flex;
  align-items: center;
  gap: 0.4rem;
  color: var(--text-secondary);
  padding: 0.5rem 1rem;
  background: rgba(88, 166, 255, 0.05);
  border-radius: 6px;
}

/* ========== HERO IMAGE ========== */
.hero-image-container {
  margin-bottom: 2.5rem;
  border-radius: 16px;
  overflow: hidden;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
  border: 1px solid var(--border-color);
}

.project-hero-image {
  width: 100%;
  max-height: 600px;
  object-fit: cover;
  display: block;
}

/* ========== TAGS ========== */
.project-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 0.75rem;
  justify-content: center;
  margin-bottom: 2.5rem;
}

.tag {
  padding: 0.6rem 1.2rem;
  background: rgba(88, 166, 255, 0.12);
  border: 1px solid rgba(88, 166, 255, 0.3);
  border-radius: 20px;
  font-size: 0.85rem;
  color: var(--primary-blue);
  transition: all 0.3s ease;
  font-weight: 500;
}

.tag:hover {
  background: rgba(88, 166, 255, 0.2);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(88, 166, 255, 0.3);
}

/* ========== ACTION BUTTONS ========== */
.project-actions {
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
  justify-content: center;
  margin-bottom: 3.5rem;
  padding: 1.5rem;
  background: rgba(88, 166, 255, 0.03);
  border-radius: 12px;
  border: 1px solid var(--border-color);
}

.action-btn {
  padding: 1rem 2rem;
  border-radius: 10px;
  text-decoration: none;
  font-weight: 600;
  font-size: 1rem;
  transition: all 0.3s ease;
  display: inline-flex;
  align-items: center;
  gap: 0.7rem;
  position: relative;
  overflow: hidden;
}

.action-btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
  transition: left 0.5s;
}

.action-btn:hover::before {
  left: 100%;
}

.btn-github {
  background: rgba(35, 134, 54, 0.12);
  border: 1px solid rgba(35, 134, 54, 0.4);
  color: var(--primary-green);
}

.btn-github:hover {
  background: rgba(35, 134, 54, 0.25);
  transform: translateY(-3px);
  box-shadow: 0 8px 20px rgba(35, 134, 54, 0.4);
}

.btn-demo {
  background: rgba(210, 153, 34, 0.12);
  border: 1px solid rgba(210, 153, 34, 0.4);
  color: var(--primary-yellow);
}

.btn-demo:hover {
  background: rgba(210, 153, 34, 0.25);
  transform: translateY(-3px);
  box-shadow: 0 8px 20px rgba(210, 153, 34, 0.4);
}

.btn-demos {
  background: rgba(188, 140, 255, 0.12);
  border: 1px solid rgba(188, 140, 255, 0.4);
  color: var(--primary-purple);
}

.btn-demos:hover {
  background: rgba(188, 140, 255, 0.25);
  transform: translateY(-3px);
  box-shadow: 0 8px 20px rgba(188, 140, 255, 0.4);
}

/* ========== CONFIDENTIAL BUTTON ========== */
.btn-confidential {
  background: rgba(248, 81, 73, 0.15);
  border: 2px solid rgba(248, 81, 73, 0.5);
  color: var(--primary-red);
  cursor: not-allowed;
  position: relative;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.btn-confidential::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: repeating-linear-gradient(
    45deg,
    transparent,
    transparent 10px,
    rgba(248, 81, 73, 0.1) 10px,
    rgba(248, 81, 73, 0.1) 20px
  );
  pointer-events: none;
}

.btn-confidential:hover {
  background: rgba(248, 81, 73, 0.2);
  transform: none;
  box-shadow: 0 0 20px rgba(248, 81, 73, 0.5);
  animation: pulse-red 2s infinite;
}

@keyframes pulse-red {
  0%, 100% {
    box-shadow: 0 0 20px rgba(248, 81, 73, 0.5);
  }
  50% {
    box-shadow: 0 0 30px rgba(248, 81, 73, 0.8);
  }
}

.btn-confidential svg {
  animation: lock-shake 3s infinite;
}

@keyframes lock-shake {
  0%, 90%, 100% {
    transform: rotate(0deg);
  }
  92%, 96% {
    transform: rotate(-5deg);
  }
  94%, 98% {
    transform: rotate(5deg);
  }
}

/* ========== CONTENT STYLES ========== */
.project-content {
  color: var(--text-primary);
  line-height: 1.8;
  font-size: 1.05rem;
}

.project-content h2 {
  color: var(--primary-blue);
  margin-top: 3.5rem;
  margin-bottom: 1.5rem;
  font-size: 2rem;
  padding-bottom: 0.75rem;
  border-bottom: 2px solid rgba(88, 166, 255, 0.3);
  position: relative;
  scroll-margin-top: 100px;
}

.project-content h2::before {
  content: '';
  position: absolute;
  bottom: -2px;
  left: 0;
  width: 60px;
  height: 2px;
  background: var(--primary-blue);
}

.project-content h3 {
  color: var(--text-secondary);
  margin-top: 2.5rem;
  margin-bottom: 1.2rem;
  font-size: 1.5rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  scroll-margin-top: 100px;
}

.project-content h4 {
  color: var(--text-tertiary);
  margin-top: 2rem;
  margin-bottom: 1rem;
  font-size: 1.2rem;
  scroll-margin-top: 100px;
}

.project-content p {
  margin-bottom: 1.5rem;
  color: var(--text-primary);
  text-align: justify;
}

.project-content ul,
.project-content ol {
  margin-left: 2rem;
  margin-bottom: 1.8rem;
  color: var(--text-secondary);
}

.project-content ul li,
.project-content ol li {
  margin-bottom: 0.75rem;
  line-height: 1.7;
  padding-left: 0.5rem;
}

.project-content ul li::marker {
  color: var(--primary-blue);
  font-size: 1.2em;
}

.project-content a {
  color: var(--primary-blue);
  text-decoration: none;
  border-bottom: 1px solid transparent;
  transition: all 0.3s;
  font-weight: 500;
}

.project-content a:hover {
  border-bottom-color: var(--primary-blue);
  color: var(--primary-green);
}

.project-content strong {
  color: var(--text-primary);
  font-weight: 700;
}

.project-content em {
  color: var(--primary-blue);
  font-style: italic;
}

.project-content img {
  max-width: 100%;
  height: auto;
  border-radius: 12px;
  margin: 2.5rem auto;
  display: block;
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
  border: 1px solid var(--border-color);
  transition: transform 0.3s ease;
}

.project-content img:hover {
  transform: scale(1.02);
}

.project-content table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  margin: 2.5rem 0;
  background: var(--bg-card);
  border-radius: 12px;
  overflow: hidden;
  border: 1px solid var(--border-color);
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
}

.project-content table th {
  background: rgba(88, 166, 255, 0.15);
  color: var(--primary-blue);
  font-weight: 600;
  padding: 1.2rem 1rem;
  text-align: left;
  border-bottom: 2px solid rgba(88, 166, 255, 0.4);
  font-size: 0.95rem;
}

.project-content table td {
  padding: 1.2rem 1rem;
  border-bottom: 1px solid var(--border-color);
  color: var(--text-primary);
  vertical-align: top;
  line-height: 1.6;
}

.project-content table tr:last-child td {
  border-bottom: none;
}

.project-content table tr:hover {
  background: var(--bg-card-hover);
}

.project-content pre {
  background: #0d1117;
  border: 1px solid rgba(88, 166, 255, 0.3);
  border-radius: 10px;
  padding: 1.5rem;
  overflow-x: auto;
  margin: 2rem 0;
  font-family: 'Courier New', Consolas, Monaco, monospace;
  font-size: 0.9rem;
  line-height: 1.6;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4);
  color: #c9d1d9;
  position: relative;
}

.project-content code {
  background: rgba(110, 118, 129, 0.3);
  padding: 0.3rem 0.6rem;
  border-radius: 5px;
  font-family: 'Courier New', Consolas, Monaco, monospace;
  font-size: 0.88em;
  color: #ff7b72;
  border: 1px solid rgba(255, 123, 114, 0.2);
}

.project-content pre code {
  background: none;
  padding: 0;
  color: inherit;
  border: none;
  font-size: 0.9rem;
}

.project-content blockquote {
  border-left: 4px solid var(--primary-blue);
  padding: 1.5rem;
  margin: 2rem 0;
  color: var(--text-secondary);
  font-style: italic;
  background: rgba(88, 166, 255, 0.05);
  border-radius: 0 8px 8px 0;
  position: relative;
}

.project-content blockquote::before {
  content: '"';
  font-size: 3rem;
  color: rgba(88, 166, 255, 0.3);
  position: absolute;
  top: -10px;
  left: 15px;
  font-family: Georgia, serif;
}

.project-content hr {
  border: none;
  border-top: 2px solid var(--border-color);
  margin: 3rem 0;
  position: relative;
}

.project-content hr::after {
  content: '•';
  position: absolute;
  top: -10px;
  left: 50%;
  transform: translateX(-50%);
  background: var(--bg-dark);
  padding: 0 10px;
  color: var(--primary-blue);
  font-size: 1.5rem;
}

/* ========== RESPONSIVE ========== */
@media (max-width: 768px) {
  .project-detail {
    padding: 1.5rem 1rem;
  }
  
  .project-title {
    font-size: 1.8rem;
  }
  
  .project-meta {
    flex-direction: column;
    gap: 0.75rem;
  }
  
  .project-actions {
    flex-direction: column;
  }
  
  .action-btn {
    width: 100%;
    justify-content: center;
  }
  
  .project-content h2 {
    font-size: 1.6rem;
  }
}
</style>

<article class="project-detail">
  <!-- BACK BUTTON -->
  <nav class="back-nav">
    <a href="/Portfolio/#projects" class="back-btn">
      <svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
        <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"/>
      </svg>
      Back to Projects
    </a>
  </nav>

  <!-- HEADER SECTION -->
  <header class="project-header">
    <h1 class="project-title">Automated Futsal Video Analysis for Performance Reporting</h1>
    
    <div class="project-meta">
      
      <span class="meta-item">
        <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
          <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"/>
        </svg>
        April 2025
      </span>
      
      
      
      <span class="meta-item">
        <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
          <path d="M1 2.5A1.5 1.5 0 0 1 2.5 1h3.797a1.5 1.5 0 0 1 1.06.44l.415.414A.5.5 0 0 0 8.126 2h5.377a1.5 1.5 0 0 1 1.5 1.5v9a1.5 1.5 0 0 1-1.5 1.5h-11A1.5 1.5 0 0 1 1 12.5v-10z"/>
        </svg>
        Sports analytics
      </span>
      
      
      
      <span class="meta-item">
        <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
          <path d="M2.5 3.5a.5.5 0 0 1 0-1h11a.5.5 0 0 1 0 1h-11zm0 3a.5.5 0 0 1 0-1h11a.5.5 0 0 1 0 1h-11zm0 3a.5.5 0 0 1 0-1h11a.5.5 0 0 1 0 1h-11zm0 3a.5.5 0 0 1 0-1h11a.5.5 0 0 1 0 1h-11z"/>
        </svg>
        SPORTSCORE
      </span>
      
      
      
      <span class="meta-item">
        <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
          <path d="M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"/>
        </svg>
        Paris, France (Remote)
      </span>
      
      
      
      <span class="meta-item">
        <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
          <path d="M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71V3.5z"/>
          <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm7-8A7 7 0 1 1 1 8a7 7 0 0 1 14 0z"/>
        </svg>
        April 2025 - September 2025
      </span>
      
    </div>

    <!-- HERO IMAGE -->
    
    <div class="hero-image-container">
      <img src="/Portfolio/assets/img/projects/SportScore.gif" alt="Automated Futsal Video Analysis for Performance Reporting" class="project-hero-image">
    </div>
    

    <!-- TAGS -->
    
    <div class="project-tags">
      
      <span class="tag">Computer Vision</span>
      
      <span class="tag">YOLOv11</span>
      
      <span class="tag">DeepSORT</span>
      
      <span class="tag">Sports Analytics</span>
      
      <span class="tag">Action Recognition</span>
      
      <span class="tag">Multi-Object Tracking</span>
      
      <span class="tag">Deep Learning</span>
      
      <span class="tag">OCR</span>
      
      <span class="tag">Homography</span>
      
    </div>
    

    <!-- ACTION BUTTONS -->
    <div class="project-actions">
      
      <div class="action-btn btn-confidential">
        <svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
          <path d="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z"/>
        </svg>
        Confidential Project
      </div>
      

      
      <a href="/Portfolio/demos/" class="action-btn btn-demos">
        <svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
          <path d="M0 1a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V1zm4 0v6h8V1H4zm8 8H4v6h8V9zM1 1v2h2V1H1zm2 3H1v2h2V4zM1 7v2h2V7H1zm2 3H1v2h2v-2zm-2 3v2h2v-2H1zM15 1h-2v2h2V1zm-2 3v2h2V4h-2zm2 3h-2v2h2V7zm-2 3v2h2v-2h-2zm2 3h-2v2h2v-2z"/>
        </svg>
        View Demos
      </a>
      
    </div>
  </header>

  <!-- MAIN CONTENT -->
  <div class="project-content">
    <h2 id="-executive-summary">🎯 Executive Summary</h2>

<p>During my final-year internship at <strong>SPORTSCORE</strong>, I developed an intelligent end-to-end AI pipeline for <strong>automated video analysis of futsal matches</strong>. The system transforms raw multi-camera footage into structured tactical insights by automatically detecting, tracking, and classifying player actions such as passes, shots, dribbles, interceptions, and goals.</p>

<h3 id="-key-achievements">🏆 Key Achievements</h3>

<ul>
  <li>✅ <strong>99.95% accuracy</strong> in frame classification</li>
  <li>✅ <strong>90.1% precision</strong> in ball detection</li>
  <li>✅ <strong>80% reduction</strong> in manual annotation workload</li>
  <li>✅ <strong>20% speedup</strong> in processing time</li>
</ul>

<hr />

<h2 id="-company-background-sportscore">🏢 Company Background: SPORTSCORE</h2>

<p><strong>SPORTSCORE</strong> is an innovative French company specializing in <strong>real-time sports data exploitation</strong> using AI and computer vision.</p>

<h3 id="what-they-do">What They Do</h3>

<ul>
  <li>📊 Automatic extraction of key events and statistics</li>
  <li>📈 Advanced tactical metrics generation</li>
  <li>🎨 Interactive visualizations for analysts</li>
  <li>🎥 Multi-sport video analysis solutions</li>
</ul>

<h3 id="target-clients">Target Clients</h3>

<ul>
  <li>Professional clubs and federations</li>
  <li>Video analysts and coaches</li>
  <li>Sports media and broadcasters</li>
  <li>Performance analysis teams</li>
</ul>

<p><strong>Mission:</strong> Transform sports through automation, precision, and speed of analysis.</p>

<hr />

<h2 id="-project-objectives">🎯 Project Objectives</h2>

<h3 id="primary-goals">Primary Goals</h3>

<p><strong>1. Intelligent Frame Filtering</strong></p>
<ul>
  <li>Automatically exclude non-relevant sequences (replays, timeouts, transitions)</li>
  <li>Reduce processing load and eliminate false positives</li>
  <li>Focus computational resources on actual gameplay</li>
</ul>

<p><strong>2. Automated Action Detection</strong></p>
<ul>
  <li>Detect and classify key actions: passes, shots, dribbles, interceptions</li>
  <li>Generate structured event data in JSON format</li>
  <li>Ensure real-time or near-real-time processing</li>
</ul>

<p><strong>3. Tactical Visualizations</strong></p>
<ul>
  <li>Produce heatmaps showing player positioning</li>
  <li>Generate pass maps and trajectory plots</li>
  <li>Export comprehensive performance reports</li>
</ul>

<p><strong>4. Reduce Manual Workload</strong></p>
<ul>
  <li>Minimize human annotation effort by 80%</li>
  <li>Accelerate production of actionable insights</li>
  <li>Enable scalable multi-match processing</li>
</ul>

<hr />

<h2 id="️-technical-architecture">🗃️ Technical Architecture</h2>

<h3 id="system-overview">System Overview</h3>

<p>The pipeline consists of 6 interconnected modules that process video input sequentially:</p>

<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 1400" style="background: linear-gradient(135deg, #0d1117 0%, #1a1d29 100%);">
  <defs>
    <!-- Gradients -->
    <linearGradient id="blueGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#00bfff;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#007bff;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="purpleGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#8a2be2;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#6a1bb2;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="greenGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#00ff88;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#00cc66;stop-opacity:1" />
    </linearGradient>
    
    <!-- Glow effects -->
    <filter id="glow">
      <feGaussianBlur stdDeviation="4" result="coloredBlur" />
      <feMerge>
        <feMergeNode in="coloredBlur" />
        <feMergeNode in="SourceGraphic" />
      </feMerge>
    </filter>
    
    <!-- Arrow marker -->
    <marker id="arrowBlue" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#00bfff" />
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="400" y="40" font-family="Arial, sans-serif" font-size="28" font-weight="bold" fill="url(#blueGrad)" text-anchor="middle">
    Futsal Analysis Pipeline
  </text>
  
  <!-- INPUT MODULE -->
  <g>
    <rect x="100" y="80" width="600" height="70" rx="10" fill="#1e1e2f" stroke="url(#blueGrad)" stroke-width="2" filter="url(#glow)" />
    <circle cx="130" cy="115" r="15" fill="url(#blueGrad)" />
    <text x="130" y="121" font-size="20" fill="#fff" text-anchor="middle">🎥</text>
    <text x="160" y="110" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#00bfff">
      VIDEO INPUT
    </text>
    <text x="160" y="132" font-family="Arial, sans-serif" font-size="14" fill="#bbb">
      Multi-Camera Footage
    </text>
  </g>
  
  <!-- Arrow -->
  <line x1="400" y1="150" x2="400" y2="190" stroke="#00bfff" stroke-width="3" marker-end="url(#arrowBlue)" />
  
  <!-- MODULE 1: Frame Classification -->
  <g>
    <rect x="100" y="200" width="600" height="90" rx="10" fill="#1e1e2f" stroke="url(#blueGrad)" stroke-width="2" filter="url(#glow)" />
    <rect x="105" y="205" width="4" height="80" rx="2" fill="url(#blueGrad)" />
    <circle cx="140" cy="230" r="18" fill="url(#blueGrad)" />
    <text x="140" y="238" font-size="22" fill="#fff" text-anchor="middle">1</text>
    <text x="170" y="227" font-family="Arial, sans-serif" font-size="17" font-weight="bold" fill="#00bfff">
      MODULE 1: Frame Classification
    </text>
    <text x="170" y="250" font-family="Arial, sans-serif" font-size="13" fill="#888">
      ├─ Model: YOLOv11m-cls
    </text>
    <text x="170" y="270" font-family="Arial, sans-serif" font-size="13" fill="#888">
      └─ Filter relevant gameplay frames (99.95% accuracy)
    </text>
  </g>
  
  <!-- Arrow -->
  <line x1="400" y1="290" x2="400" y2="330" stroke="#00bfff" stroke-width="3" marker-end="url(#arrowBlue)" />
  
  <!-- MODULE 2: Object Detection & Tracking -->
  <g>
    <rect x="100" y="340" width="600" height="100" rx="10" fill="#1e1e2f" stroke="url(#purpleGrad)" stroke-width="2" filter="url(#glow)" />
    <rect x="105" y="345" width="4" height="90" rx="2" fill="url(#purpleGrad)" />
    <circle cx="140" cy="375" r="18" fill="url(#purpleGrad)" />
    <text x="140" y="383" font-size="22" fill="#fff" text-anchor="middle">2</text>
    <text x="170" y="372" font-family="Arial, sans-serif" font-size="17" font-weight="bold" fill="#8a2be2">
      MODULE 2: Object Detection &amp; Tracking
    </text>
    <text x="170" y="395" font-family="Arial, sans-serif" font-size="13" fill="#888">
      ├─ YOLOv11x: Detect players &amp; ball (90.1% precision)
    </text>
    <text x="170" y="415" font-family="Arial, sans-serif" font-size="13" fill="#888">
      └─ DeepSORT: Multi-object tracking with Re-ID
    </text>
  </g>
  
  <!-- Arrow -->
  <line x1="400" y1="440" x2="400" y2="480" stroke="#8a2be2" stroke-width="3" marker-end="url(#arrowBlue)" />
  
  <!-- MODULE 3: Spatial Projection -->
  <g>
    <rect x="100" y="490" width="600" height="90" rx="10" fill="#1e1e2f" stroke="url(#blueGrad)" stroke-width="2" filter="url(#glow)" />
    <rect x="105" y="495" width="4" height="80" rx="2" fill="url(#blueGrad)" />
    <circle cx="140" cy="520" r="18" fill="url(#blueGrad)" />
    <text x="140" y="528" font-size="22" fill="#fff" text-anchor="middle">3</text>
    <text x="170" y="517" font-family="Arial, sans-serif" font-size="17" font-weight="bold" fill="#00bfff">
      MODULE 3: Spatial Projection
    </text>
    <text x="170" y="540" font-family="Arial, sans-serif" font-size="13" fill="#888">
      ├─ Homography: Pixel → Pitch coordinates
    </text>
    <text x="170" y="560" font-family="Arial, sans-serif" font-size="13" fill="#888">
      └─ 2D tactical positioning &amp; distance calculation
    </text>
  </g>
  
  <!-- Arrow -->
  <line x1="400" y1="580" x2="400" y2="620" stroke="#00bfff" stroke-width="3" marker-end="url(#arrowBlue)" />
  
  <!-- MODULE 4: Player Re-Identification -->
  <g>
    <rect x="100" y="630" width="600" height="110" rx="10" fill="#1e1e2f" stroke="url(#purpleGrad)" stroke-width="2" filter="url(#glow)" />
    <rect x="105" y="635" width="4" height="100" rx="2" fill="url(#purpleGrad)" />
    <circle cx="140" cy="670" r="18" fill="url(#purpleGrad)" />
    <text x="140" y="678" font-size="22" fill="#fff" text-anchor="middle">4</text>
    <text x="170" y="667" font-family="Arial, sans-serif" font-size="17" font-weight="bold" fill="#8a2be2">
      MODULE 4: Player Re-Identification
    </text>
    <text x="170" y="690" font-family="Arial, sans-serif" font-size="13" fill="#888">
      ├─ HSV Clustering: Team color detection
    </text>
    <text x="170" y="710" font-family="Arial, sans-serif" font-size="13" fill="#888">
      ├─ OCR: Jersey number recognition
    </text>
    <text x="170" y="730" font-family="Arial, sans-serif" font-size="13" fill="#888">
      └─ Trajectory-based identity confirmation
    </text>
  </g>
  
  <!-- Arrow -->
  <line x1="400" y1="740" x2="400" y2="780" stroke="#8a2be2" stroke-width="3" marker-end="url(#arrowBlue)" />
  
  <!-- MODULE 5: Pose Estimation -->
  <g>
    <rect x="100" y="790" width="600" height="90" rx="10" fill="#1e1e2f" stroke="url(#blueGrad)" stroke-width="2" filter="url(#glow)" />
    <rect x="105" y="795" width="4" height="80" rx="2" fill="url(#blueGrad)" />
    <circle cx="140" cy="820" r="18" fill="url(#blueGrad)" />
    <text x="140" y="828" font-size="22" fill="#fff" text-anchor="middle">5</text>
    <text x="170" y="817" font-family="Arial, sans-serif" font-size="17" font-weight="bold" fill="#00bfff">
      MODULE 5: Pose Estimation
    </text>
    <text x="170" y="840" font-family="Arial, sans-serif" font-size="13" fill="#888">
      ├─ 17 Keypoints extraction (OpenPose/MediaPipe)
    </text>
    <text x="170" y="860" font-family="Arial, sans-serif" font-size="13" fill="#888">
      └─ Gesture analysis for action validation
    </text>
  </g>
  
  <!-- Arrow -->
  <line x1="400" y1="880" x2="400" y2="920" stroke="#00bfff" stroke-width="3" marker-end="url(#arrowBlue)" />
  
  <!-- MODULE 6: Action Detection & Classification -->
  <g>
    <rect x="100" y="930" width="600" height="130" rx="10" fill="#1e1e2f" stroke="url(#purpleGrad)" stroke-width="2" filter="url(#glow)" />
    <rect x="105" y="935" width="4" height="120" rx="2" fill="url(#purpleGrad)" />
    <circle cx="140" cy="975" r="18" fill="url(#purpleGrad)" />
    <text x="140" y="983" font-size="22" fill="#fff" text-anchor="middle">6</text>
    <text x="170" y="972" font-family="Arial, sans-serif" font-size="17" font-weight="bold" fill="#8a2be2">
      MODULE 6: Action Detection &amp; Classification
    </text>
    <text x="170" y="995" font-family="Arial, sans-serif" font-size="13" fill="#888">
      ├─ Ball possession attribution (temporal buffer)
    </text>
    <text x="170" y="1015" font-family="Arial, sans-serif" font-size="13" fill="#888">
      ├─ Pass detection: 7 types (Basic, Progressive, Key, Assist...)
    </text>
    <text x="170" y="1035" font-family="Arial, sans-serif" font-size="13" fill="#888">
      ├─ Shot classification: On/Off target, Blocked
    </text>
    <text x="170" y="1055" font-family="Arial, sans-serif" font-size="13" fill="#888">
      └─ Dribble, Interception, Goal confirmation
    </text>
  </g>
  
  <!-- Arrow -->
  <line x1="400" y1="1060" x2="400" y2="1100" stroke="#8a2be2" stroke-width="3" marker-end="url(#arrowBlue)" />
  
  <!-- OUTPUT MODULE -->
  <g>
    <rect x="100" y="1110" width="600" height="130" rx="10" fill="#1e1e2f" stroke="url(#greenGrad)" stroke-width="2" filter="url(#glow)" />
    <circle cx="130" cy="1155" r="18" fill="url(#greenGrad)" />
    <text x="130" y="1163" font-size="22" fill="#fff" text-anchor="middle">📊</text>
    <text x="160" y="1142" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#00ff88">
      OUTPUT: Structured Data + Visualizations
    </text>
    <text x="160" y="1165" font-family="Arial, sans-serif" font-size="13" fill="#888">
      ├─ Event timeline with timestamps (JSON)
    </text>
    <text x="160" y="1185" font-family="Arial, sans-serif" font-size="13" fill="#888">
      ├─ Player trajectories &amp; heatmaps
    </text>
    <text x="160" y="1205" font-family="Arial, sans-serif" font-size="13" fill="#888">
      ├─ Pass maps &amp; tactical statistics
    </text>
    <text x="160" y="1225" font-family="Arial, sans-serif" font-size="13" fill="#888">
      └─ Automated performance reports
    </text>
  </g>
  
  <!-- Footer Stats -->
  <g>
    <rect x="150" y="1270" width="150" height="60" rx="8" fill="rgba(0, 191, 255, 0.1)" stroke="#00bfff" stroke-width="1" />
    <text x="225" y="1295" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#00bfff" text-anchor="middle">
      99.95%
    </text>
    <text x="225" y="1315" font-family="Arial, sans-serif" font-size="11" fill="#888" text-anchor="middle">
      Frame Accuracy
    </text>
    
    <rect x="325" y="1270" width="150" height="60" rx="8" fill="rgba(138, 43, 226, 0.1)" stroke="#8a2be2" stroke-width="1" />
    <text x="400" y="1295" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#8a2be2" text-anchor="middle">
      90.1%
    </text>
    <text x="400" y="1315" font-family="Arial, sans-serif" font-size="11" fill="#888" text-anchor="middle">
      Ball Detection
    </text>
    
    <rect x="500" y="1270" width="150" height="60" rx="8" fill="rgba(0, 255, 136, 0.1)" stroke="#00ff88" stroke-width="1" />
    <text x="575" y="1295" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#00ff88" text-anchor="middle">
      80%
    </text>
    <text x="575" y="1315" font-family="Arial, sans-serif" font-size="11" fill="#888" text-anchor="middle">
      Time Saved
    </text>
  </g>
  
  <!-- Watermark -->
  <text x="400" y="1370" font-family="Arial, sans-serif" font-size="12" fill="#fcf4f4ee" text-anchor="middle">
    SPORTSCORE © 2025 | Hicham El Mehdi
  </text>
</svg>

<hr />

<h2 id="️-core-pipeline-components">⚙️ Core Pipeline Components</h2>

<h3 id="1️⃣-frame-classification-module">1️⃣ Frame Classification Module</h3>

<p><strong>Objective:</strong> Filter out non-relevant frames to reduce processing overhead.</p>

<h4 id="architecture">Architecture</h4>
<ul>
  <li><strong>Model:</strong> YOLOv11m-cls fine-tuned for binary classification</li>
  <li><strong>Classes:</strong>
    <ul>
      <li><code class="language-plaintext highlighter-rouge">Main</code> - Gameplay sequences (useful for analysis)</li>
      <li><code class="language-plaintext highlighter-rouge">Other</code> - Replays, timeouts, crowd shots, transitions</li>
    </ul>
  </li>
</ul>

<h4 id="training-data">Training Data</h4>
<ul>
  <li><strong>Total:</strong> 67,801 annotated frames</li>
  <li><strong>Training set:</strong> 54,240 frames (25,655 Main + 28,585 Other)</li>
  <li><strong>Validation set:</strong> 13,561 frames (6,414 Main + 7,147 Other)</li>
</ul>

<h4 id="performance-results">Performance Results</h4>

<table>
  <thead>
    <tr>
      <th>Metric</th>
      <th>Score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Accuracy</strong></td>
      <td>99.95%</td>
    </tr>
    <tr>
      <td><strong>Precision</strong></td>
      <td>99.91%</td>
    </tr>
    <tr>
      <td><strong>Recall</strong></td>
      <td>100%</td>
    </tr>
    <tr>
      <td><strong>False Positives</strong></td>
      <td>6</td>
    </tr>
    <tr>
      <td><strong>False Negatives</strong></td>
      <td>0</td>
    </tr>
  </tbody>
</table>

<p><strong>Impact:</strong> Reduced inference time from <strong>19.98 min → 16.05 min</strong> (~20% speedup)</p>

<hr />

<h3 id="2️⃣-object-detection--multi-object-tracking">2️⃣ Object Detection &amp; Multi-Object Tracking</h3>

<h4 id="detection-system">Detection System</h4>
<p><strong>Model:</strong> YOLOv11x custom-trained on futsal datasets</p>

<p><strong>Detected Classes:</strong></p>
<ul>
  <li>Player</li>
  <li>Ball</li>
  <li>Referee</li>
  <li>Goal</li>
</ul>

<p><strong>Ball Detection Performance (After Fine-tuning):</strong></p>

<table>
  <thead>
    <tr>
      <th>Metric</th>
      <th>Score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Precision</strong></td>
      <td>90.1%</td>
    </tr>
    <tr>
      <td><strong>Recall</strong></td>
      <td>83.4%</td>
    </tr>
    <tr>
      <td><strong>mAP@50</strong></td>
      <td>83.4%</td>
    </tr>
    <tr>
      <td><strong>Inference Speed</strong></td>
      <td>9.6ms/frame (~4.7 FPS)</td>
    </tr>
  </tbody>
</table>

<h4 id="tracking-system">Tracking System</h4>
<p><strong>Algorithm:</strong> DeepSORT with appearance-based association</p>

<p><strong>Components:</strong></p>
<ul>
  <li><strong>Kalman Filter:</strong> Motion prediction and state estimation</li>
  <li><strong>Deep Features:</strong> OSNet for appearance-based Re-ID</li>
  <li><strong>Association:</strong> Hungarian algorithm for optimal matching</li>
  <li><strong>Track Management:</strong> Dynamic buffer and adaptive thresholds</li>
</ul>

<p><strong>Challenges Addressed:</strong></p>
<ul>
  <li>Ball often occluded or moving at high speed</li>
  <li>Created custom dataset with CVAT annotations from FIFA Futsal footage</li>
  <li>Temporal smoothing to fill detection gaps</li>
</ul>

<hr />

<h3 id="3️⃣-homography--spatial-projection">3️⃣ Homography &amp; Spatial Projection</h3>

<p><strong>Purpose:</strong> Convert pixel coordinates to real-world pitch coordinates</p>

<h4 id="process">Process</h4>
<ol>
  <li><strong>Detect pitch keypoints</strong> (corners, circles, lines)</li>
  <li><strong>Compute homography matrix</strong> using perspective transformation</li>
  <li><strong>Project positions</strong> onto 2D pitch model</li>
</ol>

<h4 id="benefits">Benefits</h4>
<ul>
  <li>✅ Enable distance calculations between players</li>
  <li>✅ Validate actions based on pitch zones (penalty area, goal)</li>
  <li>✅ Generate tactical heatmaps and pass maps</li>
  <li>✅ Calculate speeds and distances traveled</li>
</ul>

<hr />

<h3 id="4️⃣-player-re-identification-re-id">4️⃣ Player Re-Identification (Re-ID)</h3>

<p><strong>Multi-Modal Approach combining:</strong></p>

<h4 id="1-team-detection">1. Team Detection</h4>
<p><strong>Method:</strong> HSV color clustering on jerseys</p>
<ul>
  <li>Extract dominant colors from player bounding boxes</li>
  <li>Cluster into 2 teams based on color similarity</li>
  <li>Robust to lighting variations</li>
</ul>

<h4 id="2-jersey-number-recognition">2. Jersey Number Recognition</h4>
<p><strong>Tools:</strong> PaddleOCR / Tesseract</p>
<ul>
  <li>Extract ROI (Region of Interest) from player chest area</li>
  <li>Apply OCR with Tifinagh-trained models</li>
  <li>Validate using digit constraints (0-99)</li>
</ul>

<h4 id="3-trajectory-continuity">3. Trajectory Continuity</h4>
<p><strong>Method:</strong> DeepSORT feature matching</p>
<ul>
  <li>Track player movements across frames</li>
  <li>Maintain identity despite occlusions</li>
  <li>Use appearance features for re-association</li>
</ul>

<p><strong>Robustness:</strong> Maintains player identity despite:</p>
<ul>
  <li>✅ Temporary occlusions</li>
  <li>✅ Camera angle changes</li>
  <li>✅ Posture variations</li>
  <li>✅ Lighting changes</li>
</ul>

<hr />

<h3 id="5️⃣-pose-estimation--keypoint-detection">5️⃣ Pose Estimation &amp; Keypoint Detection</h3>

<p><strong>Model:</strong> Pre-trained keypoint detector (OpenPose/MediaPipe)</p>

<h4 id="extracted-landmarks">Extracted Landmarks</h4>
<ul>
  <li>Head, shoulders, elbows, wrists</li>
  <li>Hips, knees, ankles, feet</li>
</ul>

<h4 id="applications">Applications</h4>
<ul>
  <li>Detect shooting/passing gestures</li>
  <li>Determine striking foot (left/right)</li>
  <li>Validate action types (e.g., header vs. foot pass)</li>
  <li>Analyze player posture and body orientation</li>
</ul>

<hr />

<h3 id="6️⃣-action-detection--classification">6️⃣ Action Detection &amp; Classification</h3>

<p><strong>Core Logic:</strong> Spatio-temporal rule-based system</p>

<h4 id="ball-possession-attribution">Ball Possession Attribution</h4>

<p><strong>Methods Tested:</strong></p>
<ol>
  <li>Distance to player center</li>
  <li>Distance to feet (via keypoints)</li>
  <li>Distance to bounding box center</li>
  <li>Distance to projected position</li>
</ol>

<p><strong>Final Solution:</strong> Temporal buffer + minimum distance heuristic</p>

<h4 id="pass-classification-7-types">Pass Classification (7 Types)</h4>

<table>
  <thead>
    <tr>
      <th>Pass Type</th>
      <th>Criteria</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Basic Pass</strong></td>
      <td>Simple ball transmission between teammates</td>
    </tr>
    <tr>
      <td><strong>Progressive Pass</strong></td>
      <td>Forward pass advancing &gt;10m toward goal</td>
    </tr>
    <tr>
      <td><strong>Into-Penalty-Area Pass</strong></td>
      <td>Pass ending inside opponent’s penalty area</td>
    </tr>
    <tr>
      <td><strong>Pressure Pass</strong></td>
      <td>Pass made with opponent &lt;2m away</td>
    </tr>
    <tr>
      <td><strong>Smart Pass</strong></td>
      <td>Pass to unmarked teammate in attacking position</td>
    </tr>
    <tr>
      <td><strong>Key Pass</strong></td>
      <td>Pass directly leading to a shot</td>
    </tr>
    <tr>
      <td><strong>Assist</strong></td>
      <td>Pass directly leading to a goal</td>
    </tr>
  </tbody>
</table>

<h4 id="shot-classification">Shot Classification</h4>

<p><strong>Types Detected:</strong></p>
<ul>
  <li><strong>Shot on Target:</strong> Ball directed toward goal without interception</li>
  <li><strong>Shot off Target:</strong> Ball misses goal frame</li>
  <li><strong>Blocked Shot:</strong> Shot blocked by defender before reaching goal</li>
</ul>

<h4 id="other-actions-detected">Other Actions Detected</h4>

<ul>
  <li><strong>Dribble:</strong> Possession maintained while moving &gt;1.5m</li>
  <li><strong>Interception:</strong> Opponent recovers pass attempt</li>
  <li><strong>Incomplete Pass:</strong> Pass not received after 2 seconds (~60 frames)</li>
  <li><strong>Goal:</strong> Ball enters goal mask zone with possession validation</li>
</ul>

<hr />

<h2 id="-key-contributions">🚀 Key Contributions</h2>

<h3 id="contribution-1-intelligent-frame-classification">Contribution 1: Intelligent Frame Classification</h3>

<h4 id="before">Before</h4>
<ul>
  <li>❌ All frames processed indiscriminately</li>
  <li>❌ High computational cost</li>
  <li>❌ Many false positives from replays</li>
</ul>

<h4 id="after">After</h4>
<ul>
  <li>✅ 99.95% classification accuracy</li>
  <li>✅ 20% reduction in inference time</li>
  <li>✅ Cleaner event sequences</li>
  <li>✅ Better resource utilization</li>
</ul>

<p><strong>Training Process:</strong></p>
<ol>
  <li>Manual annotation using CVAT</li>
  <li>Fine-tuning YOLOv11m-cls (200 epochs)</li>
  <li>Integration as first pipeline stage</li>
  <li>Validation on diverse match footage</li>
</ol>

<hr />

<h3 id="contribution-2-advanced-action-detection-system">Contribution 2: Advanced Action Detection System</h3>

<p><strong>Developed from Scratch:</strong></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">ActionDetection</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">possession_buffer</span> <span class="o">=</span> <span class="n">deque</span><span class="p">(</span><span class="n">maxlen</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">action_history</span> <span class="o">=</span> <span class="p">[]</span>
        
    <span class="k">def</span> <span class="nf">detect_pass</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">current_state</span><span class="p">,</span> <span class="n">history</span><span class="p">):</span>
        <span class="s">"""Detect and classify passes"""</span>
        <span class="c1"># 7 types: Basic, Progressive, Into-Penalty, 
</span>        <span class="c1"># Pressure, Smart, Key, Assist
</span>        <span class="k">pass</span>
    
    <span class="k">def</span> <span class="nf">detect_shot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ball_trajectory</span><span class="p">,</span> <span class="n">goal_mask</span><span class="p">):</span>
        <span class="s">"""Classify shots: on target, off target, blocked"""</span>
        <span class="k">pass</span>
    
    <span class="k">def</span> <span class="nf">validate_goal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ball_position</span><span class="p">,</span> <span class="n">possession</span><span class="p">):</span>
        <span class="s">"""Confirm goal and attribute assist"""</span>
        <span class="k">pass</span>
</code></pre></div></div>

<p><strong>Logical Validation (Inspired by PoeClim):</strong></p>
<ul>
  <li>Decision trees to verify actions post-detection</li>
  <li>Example: Goal validated only if ball enters goal mask without possession change</li>
  <li>Example: Assist attributed if goal preceded by Key/Smart/Progressive pass</li>
</ul>

<hr />

<h3 id="contribution-3-performance-optimization">Contribution 3: Performance Optimization</h3>

<h4 id="ball-detection-enhancement">Ball Detection Enhancement</h4>

<p><strong>Custom Dataset:</strong></p>
<ul>
  <li>Source: FIFA Futsal footage annotated in CVAT</li>
  <li>Fine-tuned YOLOv11x (100 epochs on RTX 3090)</li>
</ul>

<p><strong>Results:</strong></p>

<table>
  <thead>
    <tr>
      <th>Metric</th>
      <th>Before</th>
      <th>After</th>
      <th>Improvement</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Precision</strong></td>
      <td>75.3%</td>
      <td>90.1%</td>
      <td>+15%</td>
    </tr>
    <tr>
      <td><strong>Recall</strong></td>
      <td>68.7%</td>
      <td>83.4%</td>
      <td>+14.7%</td>
    </tr>
    <tr>
      <td><strong>mAP@50</strong></td>
      <td>70.2%</td>
      <td>83.4%</td>
      <td>+13.2%</td>
    </tr>
  </tbody>
</table>

<p><strong>Impact:</strong></p>
<ul>
  <li>✅ Reliable ball tracking in critical zones (goal area)</li>
  <li>✅ Accurate goal detection and assist attribution</li>
  <li>✅ Reduced false negatives during fast plays</li>
</ul>

<hr />

<h3 id="contribution-4-structured-data-export">Contribution 4: Structured Data Export</h3>

<h4 id="output-formats">Output Formats</h4>

<p><strong>JSON - Event Timeline:</strong></p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">142</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Progressive Pass"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12:34.56"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"passer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="nl">"team"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"position"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">15.3</span><span class="p">,</span><span class="w"> </span><span class="mf">22.1</span><span class="p">],</span><span class="w">
    </span><span class="nl">"jersey_number"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"receiver"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"team"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"position"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">28.7</span><span class="p">,</span><span class="w"> </span><span class="mf">18.9</span><span class="p">],</span><span class="w">
    </span><span class="nl">"jersey_number"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"outcome"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"distance"</span><span class="p">:</span><span class="w"> </span><span class="mf">18.5</span><span class="p">,</span><span class="w">
  </span><span class="nl">"duration"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.2</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p><strong>CSV - Tabular Statistics:</strong></p>
<ul>
  <li>Player-wise action counts</li>
  <li>Team possession percentages</li>
  <li>Pass completion rates</li>
  <li>Shot accuracy metrics</li>
</ul>

<p><strong>Visualizations:</strong></p>
<ul>
  <li>Heatmaps (player positioning density)</li>
  <li>Pass maps (network diagrams)</li>
  <li>Trajectory plots (movement patterns)</li>
</ul>

<hr />

<h2 id="-results--performance">📊 Results &amp; Performance</h2>

<h3 id="quantitative-metrics">Quantitative Metrics</h3>

<table>
  <thead>
    <tr>
      <th>Metric</th>
      <th>Value</th>
      <th>Impact</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Frame Classification Accuracy</strong></td>
      <td>99.95%</td>
      <td>Reduces processing time</td>
    </tr>
    <tr>
      <td><strong>Ball Detection Precision</strong></td>
      <td>90.1%</td>
      <td>Reliable goal detection</td>
    </tr>
    <tr>
      <td><strong>Ball Detection Recall</strong></td>
      <td>83.4%</td>
      <td>Minimal missed balls</td>
    </tr>
    <tr>
      <td><strong>Processing Speed</strong></td>
      <td>4.7 FPS</td>
      <td>Near real-time</td>
    </tr>
    <tr>
      <td><strong>Inference Time Reduction</strong></td>
      <td>20%</td>
      <td>Faster turnaround</td>
    </tr>
    <tr>
      <td><strong>Manual Annotation Reduction</strong></td>
      <td>80%</td>
      <td>Cost savings</td>
    </tr>
  </tbody>
</table>

<h3 id="qualitative-impact">Qualitative Impact</h3>

<h4 id="for-analysts">For Analysts</h4>
<ul>
  <li>✅ <strong>Automated Event Detection:</strong> No manual tagging needed for passes/shots/goals</li>
  <li>✅ <strong>Consistent Data:</strong> Eliminates human bias and subjectivity</li>
  <li>✅ <strong>Faster Insights:</strong> Match analysis available within hours</li>
</ul>

<h4 id="for-coaches">For Coaches</h4>
<ul>
  <li>✅ <strong>Tactical Insights:</strong> Heatmaps, pass networks, pressure zones</li>
  <li>✅ <strong>Player Performance:</strong> Individual metrics for training focus</li>
  <li>✅ <strong>Opponent Analysis:</strong> Patterns and weaknesses identification</li>
</ul>

<h4 id="for-technical-teams">For Technical Teams</h4>
<ul>
  <li>✅ <strong>Reliable Re-ID:</strong> Players tracked consistently despite occlusions</li>
  <li>✅ <strong>Scalable:</strong> Modular architecture ready for multi-match processing</li>
  <li>✅ <strong>Extensible:</strong> Easy to add new action types</li>
</ul>

<hr />

<h2 id="️-challenges--solutions">🛠️ Challenges &amp; Solutions</h2>

<h3 id="challenge-1-ball-detection-in-critical-zones">Challenge 1: Ball Detection in Critical Zones</h3>

<h4 id="problem">Problem</h4>
<ul>
  <li>Ball often undetected near goal due to:
    <ul>
      <li>Small size + motion blur</li>
      <li>Occlusion by goalkeeper/goalposts</li>
      <li>High speed during shots</li>
    </ul>
  </li>
</ul>

<h4 id="solution">Solution</h4>
<ol>
  <li>Created custom dataset from FIFA Futsal footage</li>
  <li>Fine-tuned YOLOv11x with 100 epochs</li>
  <li>Added temporal smoothing to fill detection gaps</li>
  <li>Implemented ball trajectory prediction</li>
</ol>

<p><strong>Result:</strong> 90.1% precision enabling reliable goal confirmation</p>

<hr />

<h3 id="challenge-2-tracking-instability">Challenge 2: Tracking Instability</h3>

<h4 id="problem-1">Problem</h4>
<ul>
  <li>DeepSORT ID switches during player collisions</li>
  <li>Ball tracking lost during occlusions</li>
  <li>Jersey numbers misread in poor lighting</li>
</ul>

<h4 id="solution-1">Solution</h4>
<ol>
  <li>Added temporal buffer for possession continuity</li>
  <li>Integrated appearance features (OSNet) for Re-ID</li>
  <li>Implemented Kalman filter predictions during gaps</li>
  <li>Multi-modal approach (color + number + trajectory)</li>
</ol>

<p><strong>Result:</strong> Stable player identities across entire matches</p>

<hr />

<h3 id="challenge-3-action-ambiguity">Challenge 3: Action Ambiguity</h3>

<h4 id="problem-2">Problem</h4>
<ul>
  <li>Differentiating pass types (e.g., Smart vs Key pass)</li>
  <li>Validating incomplete passes vs interceptions</li>
  <li>Determining shot accuracy</li>
</ul>

<h4 id="solution-2">Solution</h4>
<ul>
  <li>Defined strict spatio-temporal rules:
    <ul>
      <li><strong>Pressure Pass:</strong> opponent &lt;2m from passer</li>
      <li><strong>Smart Pass:</strong> receiver unmarked + attacking zone</li>
      <li><strong>Key Pass:</strong> followed by shot within 3 seconds</li>
    </ul>
  </li>
  <li>Temporal validation windows (e.g., 60 frames for incomplete pass)</li>
  <li>Zone-based validation using homography</li>
</ul>

<p><strong>Result:</strong> Clear classification with minimal ambiguity</p>

<hr />

<h3 id="challenge-4-processing-time">Challenge 4: Processing Time</h3>

<h4 id="problem-3">Problem</h4>
<ul>
  <li>Full match (40 min) took ~60 minutes to process</li>
  <li>Not scalable for multi-match analysis</li>
</ul>

<h4 id="solution-ongoing">Solution (Ongoing)</h4>
<ol>
  <li>Implemented frame classification filter (20% speedup)</li>
  <li>Prepared for multi-threading (batch processing)</li>
  <li>Optimized data structures (dict → numpy arrays)</li>
  <li>GPU optimization for inference</li>
</ol>

<p><strong>Target:</strong> Real-time processing (&lt;1.5x match duration)</p>

<hr />

<h2 id="-impact--business-value">💼 Impact &amp; Business Value</h2>

<h3 id="for-sportscore">For SPORTSCORE</h3>

<h4 id="operational-benefits">Operational Benefits</h4>
<ul>
  <li>✅ <strong>80% reduction</strong> in manual annotation workload</li>
  <li>✅ <strong>Scalability:</strong> Can now process multiple matches simultaneously</li>
  <li>✅ <strong>Product Enhancement:</strong> Automated reports add value to offerings</li>
  <li>✅ <strong>Competitive Edge:</strong> Faster turnaround than manual analysis services</li>
</ul>

<h4 id="business-metrics">Business Metrics</h4>
<ul>
  <li>📈 <strong>Cost Savings:</strong> ~€10,000/month in annotation costs</li>
  <li>🚀 <strong>Throughput:</strong> 5x more matches processed</li>
  <li>💰 <strong>Revenue Growth:</strong> New clients attracted by automation</li>
  <li>🎯 <strong>Market Position:</strong> Technology leader in futsal analytics</li>
</ul>

<hr />

<h3 id="for-clients-clubs-analysts-federations">For Clients (Clubs, Analysts, Federations)</h3>

<h4 id="tactical-advantages">Tactical Advantages</h4>
<ul>
  <li>✅ <strong>Instant Insights:</strong> Match analysis available within hours (vs days)</li>
  <li>✅ <strong>Objective Data:</strong> Eliminates human bias in event tagging</li>
  <li>✅ <strong>Tactical Intelligence:</strong> Heatmaps, pass networks, pressure zones</li>
  <li>✅ <strong>Player Development:</strong> Individual performance metrics for training</li>
</ul>

<h4 id="use-cases">Use Cases</h4>
<ul>
  <li>🎯 <strong>Post-Match Analysis:</strong> Identify tactical strengths/weaknesses</li>
  <li>📊 <strong>Scouting:</strong> Evaluate potential recruits objectively</li>
  <li>🏆 <strong>Competition Prep:</strong> Analyze opponent patterns</li>
  <li>📈 <strong>Performance Tracking:</strong> Monitor player progression over time</li>
</ul>

<hr />

<h2 id="-future-perspectives">🔮 Future Perspectives</h2>

<h3 id="short-term-improvements-3-6-months">Short-Term Improvements (3-6 months)</h3>

<h4 id="1-real-time-processing">1. Real-Time Processing</h4>
<ul>
  <li>Optimize for &lt;1.5x match duration</li>
  <li>Implement GPU batch processing</li>
  <li>Add multi-threading for parallel module execution</li>
  <li>Target: Process 40-min match in &lt;60 minutes</li>
</ul>

<h4 id="2-enhanced-ball-tracking">2. Enhanced Ball Tracking</h4>
<ul>
  <li>Integrate TrackNetV2 for ball trajectory prediction</li>
  <li>Add segmentation-based detection for occluded ball</li>
  <li>Improve detection in goal area (currently 83.4% recall)</li>
</ul>

<h4 id="3-advanced-action-recognition">3. Advanced Action Recognition</h4>
<ul>
  <li>Train deep learning model (Transformer-based) for action spotting</li>
  <li>Incorporate temporal context (xLSTM encoder)</li>
  <li>Improve pass classification accuracy (current: rule-based)</li>
</ul>

<hr />

<h3 id="long-term-vision-1-2-years">Long-Term Vision (1-2 years)</h3>

<h4 id="1-multi-sport-extension">1. Multi-Sport Extension</h4>
<ul>
  <li>Adapt pipeline for basketball, handball, hockey</li>
  <li>Transfer learning from futsal model</li>
  <li>Sport-specific action detection modules</li>
</ul>

<h4 id="2-live-streaming-integration">2. Live Streaming Integration</h4>
<ul>
  <li>Real-time event detection during broadcast</li>
  <li>Automated highlight generation</li>
  <li>Live tactical dashboards for coaches</li>
</ul>

<h4 id="3-3d-reconstruction">3. 3D Reconstruction</h4>
<ul>
  <li>Multi-camera calibration for 3D player positioning</li>
  <li>Depth estimation for offside detection</li>
  <li>Volumetric capture for immersive replays</li>
</ul>

<h4 id="4-predictive-analytics">4. Predictive Analytics</h4>
<ul>
  <li><strong>Expected Goals (xG)</strong> model based on shot context</li>
  <li><strong>Pass success probability</strong> using historical data</li>
  <li><strong>Tactical pattern recognition</strong> (e.g., pressing schemes)</li>
  <li><strong>Match outcome prediction</strong> using team metrics</li>
</ul>

<hr />

<h2 id="️-technical-stack">🛠️ Technical Stack</h2>

<h3 id="deep-learning-frameworks">Deep Learning Frameworks</h3>
<ul>
  <li><strong>PyTorch 2.0</strong> - Model training and inference</li>
  <li><strong>Ultralytics YOLOv11</strong> - Object detection</li>
  <li><strong>TensorFlow/Keras</strong> - Supplementary models</li>
</ul>

<h3 id="computer-vision-libraries">Computer Vision Libraries</h3>
<ul>
  <li><strong>OpenCV</strong> - Video processing, homography</li>
  <li><strong>DeepSORT</strong> - Multi-object tracking</li>
  <li><strong>PaddleOCR</strong> - Jersey number recognition</li>
  <li><strong>Tesseract</strong> - Backup OCR engine</li>
</ul>

<h3 id="data-processing">Data Processing</h3>
<ul>
  <li><strong>NumPy</strong> - Numerical operations</li>
  <li><strong>Pandas</strong> - Data structuring</li>
  <li><strong>JSON</strong> - Event serialization</li>
</ul>

<h3 id="annotation--training-tools">Annotation &amp; Training Tools</h3>
<ul>
  <li><strong>CVAT</strong> - Video annotation tool</li>
  <li><strong>Roboflow</strong> - Dataset management</li>
  <li><strong>Weights &amp; Biases</strong> - Experiment tracking</li>
  <li><strong>TensorBoard</strong> - Training visualization</li>
</ul>

<h3 id="hardware">Hardware</h3>
<ul>
  <li><strong>NVIDIA RTX 3090</strong> (24GB VRAM) - Training</li>
  <li><strong>NVIDIA RTX 4060</strong> (8GB VRAM) - Inference</li>
  <li><strong>AMD Ryzen 7 5700X</strong> - CPU processing</li>
</ul>

<hr />

<h2 id="-skills-developed">🎓 Skills Developed</h2>

<h3 id="technical-skills">Technical Skills</h3>
<ul>
  <li>✅ Advanced computer vision (detection, tracking, homography)</li>
  <li>✅ Deep learning model fine-tuning (YOLO, CNNs)</li>
  <li>✅ Multi-object tracking algorithms (DeepSORT, Kalman Filter)</li>
  <li>✅ Spatio-temporal reasoning and action recognition</li>
  <li>✅ Data pipeline design and optimization</li>
</ul>

<h3 id="software-engineering">Software Engineering</h3>
<ul>
  <li>✅ Modular code architecture</li>
  <li>✅ Performance profiling and optimization</li>
  <li>✅ Version control (Git) and collaboration</li>
  <li>✅ Documentation and technical writing</li>
</ul>

<h3 id="domain-expertise">Domain Expertise</h3>
<ul>
  <li>✅ Sports analytics and tactical analysis</li>
  <li>✅ Video processing workflows</li>
  <li>✅ Real-time system design</li>
</ul>

<hr />

<h2 id="-references--related-work">📚 References &amp; Related Work</h2>

<p>This project builds upon state-of-the-art research in sports video analysis:</p>

<ol>
  <li><strong>PoeClim</strong> (Mohtaram et al., 2025): Spatio-temporal framework for action spotting</li>
  <li><strong>Deep-EIoU</strong> (Huang et al., 2024): Advanced multi-object tracking</li>
  <li><strong>YOLOv11</strong> (Ultralytics, 2024): Latest YOLO architecture</li>
  <li><strong>DeepSORT</strong> (Wojke et al., 2017): Deep association metric tracking</li>
  <li><strong>TrackNetV2</strong> (Huang et al., 2022): Ball tracking in sports videos</li>
</ol>

<hr />

<h2 id="‍-about-this-project">👨‍💻 About This Project</h2>

<p><strong>Duration:</strong> April 2025 - September 2025<br />
<strong>Type:</strong> Final-Year Internship (Master’s in Artificial Intelligence)<br />
<strong>Institution:</strong> Ibn Tofail University, Faculty of Sciences, Kenitra<br />
<strong>Company:</strong> SPORTSCORE (Paris, France - Remote)<br />
<strong>Supervisor:</strong> Mr. Noureddine Mohtaram (SPORTSCORE)<br />
<strong>Academic Supervisor:</strong> Mr. Anass Nouri (FSK, Ibn Tofail University)</p>

<h3 id="jury-members">Jury Members</h3>
<ul>
  <li>Mr. Anass Nouri (FSK, Ibn Tofail University)</li>
  <li>Mrs. Khadija Lekdioui (FSK, Ibn Tofail University)</li>
  <li>Mrs. Khaoula Boukir (ENSC, Ibn Tofail University)</li>
</ul>

<p><strong>Defense Date:</strong> September 15, 2025</p>

<hr />

<h2 id="-contact--links">📧 Contact &amp; Links</h2>

<p><strong>Author:</strong> Hicham El Mehdi<br />
<strong>Email:</strong> mehdihicham736@gmail.com<br />
<strong>LinkedIn:</strong> <a href="https://linkedin.com/in/elmehdihicham">linkedin.com/in/elmehdihicham</a><br />
<strong>GitHub:</strong> <a href="https://github.com/MehdiHCH">github.com/MehdiHCH</a></p>

<p><strong>Company Website:</strong> <a href="https://sportscore.tech">sportscore.tech</a><br />
<strong>Project Repository:</strong> <a href="https://github.com/MehdiHCH/futsal-analysis">github.com/MehdiHCH/futsal-analysis</a></p>

<hr />

<p><em>This project represents a significant step toward fully automated sports video analysis, combining cutting-edge AI with domain expertise to deliver actionable insights for coaches, analysts, and federations.</em></p>

  </div>
</article>
  </main>
  <footer class="mt-auto py-3 text-center">

  <small class="text-muted mb-2">
    <i class="fas fa-code"></i> with <i class="fas fa-heart"></i>
    by <strong>EL MEHDI Hicham</strong>
  </small>

  <div class="container-fluid justify-content-center"><a class="social mx-1"  href="mailto:mehdihicham736@gmail.com"
       style="color: #6c757d"
       onMouseOver="this.style.color='#db4437'"
       onMouseOut="this.style.color='#6c757d'">
      <i class="fas fa-envelope fa-1x"></i>
    </a><a class="social mx-1"  href="https://www.github.com/MehdiHCH"
       style="color: #6c757d"
       onMouseOver="this.style.color='#333333'"
       onMouseOut="this.style.color='#6c757d'">
      <i class="fab fa-github fa-1x"></i>
    </a><a class="social mx-1"  href="https://www.linkedin.com/in/elmehdihicham"
       style="color: #6c757d"
       onMouseOver="this.style.color='#007bb5'"
       onMouseOut="this.style.color='#6c757d'">
      <i class="fab fa-linkedin-in fa-1x"></i>
    </a>

</div><small id="attribution">
    theme <a href="https://github.com/yousinix/portfolYOU">portfolYOU</a>
  </small>

</footer>

  
  <!-- GitHub Buttons -->
<script async defer src="https://buttons.github.io/buttons.js"></script>

<!-- jQuery CDN -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<!-- Popper.js CDN -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"></script>

<!-- Bootstrap JS CDN -->
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

<!-- wow.js CDN & Activation -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/wow/1.1.2/wow.js"></script>
<script> new WOW().init(); </script>

<!-- Initialize all tooltips -->
<script>
$(function () {
    $('[data-toggle="tooltip"]').tooltip()
})
</script>
</body>

</html>